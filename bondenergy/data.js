const colors = { C: '#555', H: '#fff', O: '#d9534f', N: '#3498db', F: '#2ecc71', Cl: '#27ae60', Br: '#c0392b', S: '#f1c40f' };
const radius = { C: 18, H: 12, O: 16, N: 17, F: 15, Cl: 19, Br: 22, S: 20 };

const reactionData = [
    {
        id: 0,
        equation: "\\mathrm{CH}_4 + 2\\mathrm{O}_2 \\rightarrow \\mathrm{CO}_2 + 2\\mathrm{H}_2\\mathrm{O}",
        atoms: [
            { id: 'C', type: 'C', s0: [100, 175], s1: [200, 50], s2: [200, 175] },
            { id: 'H1', type: 'H', s0: [60, 175], s1: [50, 80], s2: [120, 80] },
            { id: 'H2', type: 'H', s0: [140, 175], s1: [350, 80], s2: [120, 270] },
            { id: 'H3', type: 'H', s0: [100, 135], s1: [100, 280], s2: [280, 80] },
            { id: 'H4', type: 'H', s0: [100, 215], s1: [300, 280], s2: [280, 270] },
            { id: 'O1', type: 'O', s0: [270, 120], s1: [50, 175], s2: [150, 175] },
            { id: 'O2', type: 'O', s0: [320, 120], s1: [350, 175], s2: [250, 175] },
            { id: 'O3', type: 'O', s0: [270, 230], s1: [150, 250], s2: [80, 175] },
            { id: 'O4', type: 'O', s0: [320, 230], s1: [250, 250], s2: [320, 175] }
        ],
        bonds0: [['C','H1',1,413], ['C','H2',1,413], ['C','H3',1,413], ['C','H4',1,413], ['O1','O2',2,495], ['O3','O4',2,495]],
        bonds2: [['C','O1',2,799], ['C','O2',2,799], ['O3','H1',1,467], ['O3','H2',1,467], ['O4','H3',1,467], ['O4','H4',1,467]]
    },
    {
        id: 1,
        equation: "2\\mathrm{H}_2 + \\mathrm{O}_2 \\rightarrow 2\\mathrm{H}_2\\mathrm{O}",
        atoms: [
            { id: 'H1', type: 'H', s0: [100, 120], s1: [50, 80], s2: [120, 120] },
            { id: 'H2', type: 'H', s0: [150, 120], s1: [350, 80], s2: [180, 120] },
            { id: 'H3', type: 'H', s0: [100, 230], s1: [50, 280], s2: [120, 230] },
            { id: 'H4', type: 'H', s0: [150, 230], s1: [350, 280], s2: [180, 230] },
            { id: 'O1', type: 'O', s0: [280, 175], s1: [200, 100], s2: [150, 150] },
            { id: 'O2', type: 'O', s0: [330, 175], s1: [200, 250], s2: [150, 200] }
        ],
        bonds0: [['H1','H2',1,432], ['H3','H4',1,432], ['O1','O2',2,495]],
        bonds2: [['O1','H1',1,463], ['O1','H2',1,463], ['O2','H3',1,463], ['O2','H4',1,463]]
    },
    {
        id: 2,
        equation: "\\mathrm{CH}_4 + \\mathrm{H}_2\\mathrm{O} \\rightarrow \\mathrm{CO} + 3\\mathrm{H}_2",
        atoms: [
            { id: 'C', type: 'C', s0: [100, 175], s1: [150, 80], s2: [100, 175] },
            { id: 'H1', type: 'H', s0: [60, 175], s1: [50, 50], s2: [250, 120] },
            { id: 'H2', type: 'H', s0: [140, 175], s1: [250, 50], s2: [290, 120] },
            { id: 'H3', type: 'H', s0: [100, 135], s1: [50, 250], s2: [250, 175] },
            { id: 'H4', type: 'H', s0: [100, 215], s1: [250, 250], s2: [290, 175] },
            { id: 'O', type: 'O', s0: [300, 175], s1: [150, 280], s2: [160, 175] },
            { id: 'H5', type: 'H', s0: [260, 145], s1: [350, 100], s2: [250, 230] },
            { id: 'H6', type: 'H', s0: [260, 205], s1: [350, 260], s2: [290, 230] }
        ],
        bonds0: [['C','H1',1,413], ['C','H2',1,413], ['C','H3',1,413], ['C','H4',1,413], ['O','H5',1,466], ['O','H6',1,466]],
        bonds2: [['C','O',3,1072], ['H1','H2',1,436], ['H3','H4',1,436], ['H5','H6',1,436]]
    },
    {
        id: 3,
        equation: "\\mathrm{N}_2 + \\mathrm{O}_2 \\rightarrow 2\\mathrm{NO}",
        atoms: [
            { id: 'N1', type: 'N', s0: [100, 175], s1: [150, 80], s2: [100, 120] },
            { id: 'N2', type: 'N', s0: [150, 175], s1: [150, 280], s2: [100, 230] },
            { id: 'O1', type: 'O', s0: [270, 175], s1: [250, 80], s2: [150, 120] },
            { id: 'O2', type: 'O', s0: [320, 175], s1: [250, 280], s2: [150, 230] }
        ],
        bonds0: [['N1','N2',3,941], ['O1','O2',2,495]],
        bonds2: [['N1','O1',2,631], ['N2','O2',2,631]]
    },
    {
        id: 4,
        equation: "\\mathrm{N}_2 + 3\\mathrm{H}_2 \\rightarrow 2\\mathrm{NH}_3",
        atoms: [
            { id: 'N1', type: 'N', s0: [80, 175], s1: [100, 80], s2: [120, 100] },
            { id: 'N2', type: 'N', s0: [120, 175], s1: [100, 280], s2: [260, 250] },
            { id: 'H1', type: 'H', s0: [220, 100], s1: [250, 50], s2: [90, 60] },
            { id: 'H2', type: 'H', s0: [260, 100], s1: [320, 50], s2: [160, 80] },
            { id: 'H3', type: 'H', s0: [220, 175], s1: [250, 175], s2: [110, 140] },
            { id: 'H4', type: 'H', s0: [260, 175], s1: [320, 175], s2: [220, 230] },
            { id: 'H5', type: 'H', s0: [220, 250], s1: [250, 300], s2: [300, 230] },
            { id: 'H6', type: 'H', s0: [260, 250], s1: [320, 300], s2: [270, 290] }
        ],
        bonds0: [['N1','N2',3,941], ['H1','H2',1,432], ['H3','H4',1,432], ['H5','H6',1,432]],
        bonds2: [['N1','H1',1,391], ['N1','H2',1,391], ['N1','H3',1,391], ['N2','H4',1,391], ['N2','H5',1,391], ['N2','H6',1,391]]
    },
    {
        id: 5,
        equation: "\\mathrm{H}_2 + \\mathrm{F}_2 \\rightarrow 2\\mathrm{HF}",
        atoms: [
            { id: 'H1', type: 'H', s0: [100, 175], s1: [150, 80], s2: [120, 120] },
            { id: 'H2', type: 'H', s0: [150, 175], s1: [150, 280], s2: [120, 230] },
            { id: 'F1', type: 'F', s0: [270, 175], s1: [250, 80], s2: [180, 120] },
            { id: 'F2', type: 'F', s0: [320, 175], s1: [250, 280], s2: [180, 230] }
        ],
        bonds0: [['H1','H2',1,432], ['F1','F2',1,155]],
        bonds2: [['H1','F1',1,567], ['H2','F2',1,567]]
    },
    {
        id: 6,
        equation: "2\\mathrm{CO} + \\mathrm{O}_2 \\rightarrow 2\\mathrm{CO}_2",
        atoms: [
            { id: 'C1', type: 'C', s0: [100, 100], s1: [150, 80], s2: [150, 100] },
            { id: 'O1', type: 'O', s0: [150, 100], s1: [50, 80], s2: [100, 100] },
            { id: 'C2', type: 'C', s0: [100, 250], s1: [150, 280], s2: [150, 250] },
            { id: 'O2', type: 'O', s0: [150, 250], s1: [50, 280], s2: [100, 250] },
            { id: 'O3', type: 'O', s0: [280, 175], s1: [300, 100], s2: [200, 100] },
            { id: 'O4', type: 'O', s0: [330, 175], s1: [300, 250], s2: [200, 250] }
        ],
        bonds0: [['C1','O1',3,1072], ['C2','O2',3,1072], ['O3','O4',2,495]],
        bonds2: [['C1','O1',2,799], ['C1','O3',2,799], ['C2','O2',2,799], ['C2','O4',2,799]]
    },
    {
        id: 7,
        equation: "2\\mathrm{NO} + \\mathrm{O}_2 \\rightarrow 2\\mathrm{NO}_2",
        atoms: [
            { id: 'N1', type: 'N', s0: [100, 100], s1: [150, 80], s2: [150, 100] },
            { id: 'O1', type: 'O', s0: [150, 100], s1: [50, 80], s2: [100, 100] },
            { id: 'N2', type: 'N', s0: [100, 250], s1: [150, 280], s2: [150, 250] },
            { id: 'O2', type: 'O', s0: [150, 250], s1: [50, 280], s2: [100, 250] },
            { id: 'O3', type: 'O', s0: [280, 175], s1: [300, 100], s2: [200, 100] },
            { id: 'O4', type: 'O', s0: [330, 175], s1: [300, 250], s2: [200, 250] }
        ],
        bonds0: [['N1','O1',2,631], ['N2','O2',2,631], ['O3','O4',2,495]],
        bonds2: [['N1','O1',2,469], ['N1','O3',2,469], ['N2','O2',2,469], ['N2','O4',2,469]]
    },
    {
        id: 8,
        equation: "\\mathrm{N}_2 + 2\\mathrm{O}_2 \\rightarrow 2\\mathrm{NO}_2",
        atoms: [
            { id: 'N1', type: 'N', s0: [100, 175], s1: [150, 100], s2: [150, 120] },
            { id: 'N2', type: 'N', s0: [150, 175], s1: [150, 250], s2: [150, 230] },
            { id: 'O1', type: 'O', s0: [270, 100], s1: [50, 100], s2: [100, 120] },
            { id: 'O2', type: 'O', s0: [320, 100], s1: [300, 100], s2: [200, 120] },
            { id: 'O3', type: 'O', s0: [270, 250], s1: [50, 250], s2: [100, 230] },
            { id: 'O4', type: 'O', s0: [320, 250], s1: [300, 250], s2: [200, 230] }
        ],
        bonds0: [['N1','N2',3,941], ['O1','O2',2,495], ['O3','O4',2,495]],
        bonds2: [['N1','O1',2,469], ['N1','O2',2,469], ['N2','O3',2,469], ['N2','O4',2,469]]
    },
    {
        id: 9,
        equation: "\\mathrm{CH}_4 + 4\\mathrm{Br}_2 \\rightarrow \\mathrm{CBr}_4 + 4\\mathrm{HBr}",
        atoms: [
            { id: 'C', type: 'C', s0: [100, 175], s1: [200, 175], s2: [100, 175] },
            { id: 'H1', type: 'H', s0: [60, 175], s1: [50, 50], s2: [220, 70] },
            { id: 'H2', type: 'H', s0: [140, 175], s1: [150, 50], s2: [220, 140] },
            { id: 'H3', type: 'H', s0: [100, 135], s1: [50, 300], s2: [220, 210] },
            { id: 'H4', type: 'H', s0: [100, 215], s1: [150, 300], s2: [220, 280] },
            { id: 'Br1', type: 'Br', s0: [250, 80], s1: [350, 50], s2: [50, 175] },
            { id: 'Br2', type: 'Br', s0: [300, 80], s1: [350, 100], s2: [260, 70] },
            { id: 'Br3', type: 'Br', s0: [250, 140], s1: [350, 150], s2: [150, 175] },
            { id: 'Br4', type: 'Br', s0: [300, 140], s1: [350, 200], s2: [260, 140] },
            { id: 'Br5', type: 'Br', s0: [250, 200], s1: [250, 250], s2: [100, 125] },
            { id: 'Br6', type: 'Br', s0: [300, 200], s1: [250, 300], s2: [260, 210] },
            { id: 'Br7', type: 'Br', s0: [250, 260], s1: [350, 250], s2: [100, 225] },
            { id: 'Br8', type: 'Br', s0: [300, 260], s1: [350, 300], s2: [260, 280] }
        ],
        bonds0: [['C','H1',1,413], ['C','H2',1,413], ['C','H3',1,413], ['C','H4',1,413], ['Br1','Br2',1,193], ['Br3','Br4',1,193], ['Br5','Br6',1,193], ['Br7','Br8',1,193]],
        bonds2: [['C','Br1',1,276], ['C','Br3',1,276], ['C','Br5',1,276], ['C','Br7',1,276], ['H1','Br2',1,366], ['H2','Br4',1,366], ['H3','Br6',1,366], ['H4','Br8',1,366]]
    },
    {
        id: 10,
        equation: "\\mathrm{C}_2\\mathrm{H}_4 + \\mathrm{H}_2 \\rightarrow \\mathrm{C}_2\\mathrm{H}_6",
        atoms: [
            { id: 'C1', type: 'C', s0: [100, 175], s1: [100, 80], s2: [100, 175] },
            { id: 'C2', type: 'C', s0: [150, 175], s1: [150, 280], s2: [150, 175] },
            { id: 'H1', type: 'H', s0: [70, 140], s1: [50, 50], s2: [70, 140] },
            { id: 'H2', type: 'H', s0: [70, 210], s1: [150, 50], s2: [70, 210] },
            { id: 'H3', type: 'H', s0: [180, 140], s1: [50, 250], s2: [180, 140] },
            { id: 'H4', type: 'H', s0: [180, 210], s1: [150, 300], s2: [180, 210] },
            { id: 'H5', type: 'H', s0: [270, 175], s1: [250, 175], s2: [125, 140] },
            { id: 'H6', type: 'H', s0: [320, 175], s1: [300, 175], s2: [125, 210] }
        ],
        bonds0: [['C1','C2',2,614], ['C1','H1',1,413], ['C1','H2',1,413], ['C2','H3',1,413], ['C2','H4',1,413], ['H5','H6',1,436]],
        bonds2: [['C1','C2',1,348], ['C1','H1',1,413], ['C1','H2',1,413], ['C2','H3',1,413], ['C2','H4',1,413], ['C1','H5',1,413], ['C2','H6',1,413]]
    },
    {
        id: 11,
        equation: "\\mathrm{C}_2\\mathrm{H}_2 + 2\\mathrm{H}_2 \\rightarrow \\mathrm{C}_2\\mathrm{H}_6",
        atoms: [
            { id: 'C1', type: 'C', s0: [100, 175], s1: [100, 80], s2: [100, 175] },
            { id: 'C2', type: 'C', s0: [150, 175], s1: [150, 280], s2: [150, 175] },
            { id: 'H1', type: 'H', s0: [60, 175], s1: [50, 50], s2: [60, 175] },
            { id: 'H2', type: 'H', s0: [190, 175], s1: [200, 300], s2: [190, 175] },
            { id: 'H3', type: 'H', s0: [270, 130], s1: [250, 100], s2: [100, 135] },
            { id: 'H4', type: 'H', s0: [320, 130], s1: [320, 100], s2: [100, 215] },
            { id: 'H5', type: 'H', s0: [270, 220], s1: [250, 250], s2: [150, 135] },
            { id: 'H6', type: 'H', s0: [320, 220], s1: [320, 250], s2: [150, 215] }
        ],
        bonds0: [['C1','C2',3,839], ['C1','H1',1,413], ['C2','H2',1,413], ['H3','H4',1,434], ['H5','H6',1,434]],
        bonds2: [['C1','C2',1,348], ['C1','H1',1,413], ['C2','H2',1,413], ['C1','H3',1,413], ['C1','H4',1,413], ['C2','H5',1,413], ['C2','H6',1,413]]
    },
    {
        id: 12,
        equation: "\\mathrm{CO} + \\mathrm{Cl}_2 \\rightarrow \\mathrm{COCl}_2",
        atoms: [
            { id: 'C1', type: 'C', s0: [120, 175], s1: [120, 120], s2: [150, 175] },
            { id: 'O1', type: 'O', s0: [70, 175], s1: [70, 120], s2: [100, 175] },
            { id: 'Cl1', type: 'Cl', s0: [250, 175], s1: [200, 220], s2: [175, 130] },
            { id: 'Cl2', type: 'Cl', s0: [300, 175], s1: [280, 220], s2: [175, 220] }
        ],
        bonds0: [['C1','O1',3,1072], ['Cl1','Cl2',1,242]],
        bonds2: [['C1','O1',2,743], ['C1','Cl1',1,330], ['C1','Cl2',1,330]]
    },
    {
        id: 13,
        equation: "2\\mathrm{H}_2\\mathrm{O}_2 \\rightarrow 2\\mathrm{H}_2\\mathrm{O} + \\mathrm{O}_2",
        atoms: [
            { id: 'O1', type: 'O', s0: [100, 100], s1: [100, 100], s2: [100, 100] },
            { id: 'O2', type: 'O', s0: [150, 100], s1: [150, 100], s2: [250, 175] },
            { id: 'H1', type: 'H', s0: [70, 70], s1: [50, 50], s2: [70, 70] },
            { id: 'H2', type: 'H', s0: [180, 70], s1: [200, 50], s2: [70, 220] },
            { id: 'O3', type: 'O', s0: [100, 250], s1: [100, 250], s2: [100, 250] },
            { id: 'O4', type: 'O', s0: [150, 250], s1: [150, 250], s2: [300, 175] },
            { id: 'H3', type: 'H', s0: [70, 220], s1: [50, 200], s2: [130, 70] },
            { id: 'H4', type: 'H', s0: [180, 220], s1: [200, 200], s2: [130, 220] }
        ],
        bonds0: [['O1','O2',1,146], ['O1','H1',1,463], ['O2','H2',1,463], ['O3','O4',1,146], ['O3','H3',1,463], ['O4','H4',1,463]],
        bonds2: [['O1','H1',1,463], ['O1','H3',1,463], ['O3','H2',1,463], ['O3','H4',1,463], ['O2','O4',2,495]]
    },
    {
        id: 14,
        equation: "\\mathrm{CO} + 2\\mathrm{H}_2 \\rightarrow \\mathrm{CH}_3\\mathrm{OH}",
        atoms: [
            { id: 'C', type: 'C', s0: [100, 175], s1: [100, 175], s2: [150, 175] },
            { id: 'O', type: 'O', s0: [160, 175], s1: [200, 175], s2: [220, 175] },
            { id: 'H1', type: 'H', s0: [250, 120], s1: [250, 80], s2: [150, 115] },
            { id: 'H2', type: 'H', s0: [300, 120], s1: [350, 80], s2: [150, 235] },
            { id: 'H3', type: 'H', s0: [250, 230], s1: [250, 280], s2: [90, 175] },
            { id: 'H4', type: 'H', s0: [300, 230], s1: [350, 280], s2: [270, 175] }
        ],
        bonds0: [['C','O',3,1072], ['H1','H2',1,436], ['H3','H4',1,436]],
        bonds2: [['C','H1',1,413], ['C','H2',1,413], ['C','H3',1,413], ['C','O',1,358], ['O','H4',1,463]]
    },
    {
        id: 15,
        equation: "\\mathrm{C}_2\\mathrm{H}_4 + \\mathrm{H}_2\\mathrm{O} \\rightarrow \\mathrm{C}_2\\mathrm{H}_5\\mathrm{OH}",
        atoms: [
            { id: 'C1', type: 'C', s0: [100, 175], s1: [80, 175], s2: [120, 175] },
            { id: 'C2', type: 'C', s0: [160, 175], s1: [180, 175], s2: [180, 175] },
            { id: 'H1', type: 'H', s0: [60, 130], s1: [40, 100], s2: [120, 115] },
            { id: 'H2', type: 'H', s0: [60, 220], s1: [40, 250], s2: [120, 235] },
            { id: 'H3', type: 'H', s0: [200, 130], s1: [220, 100], s2: [180, 115] },
            { id: 'H4', type: 'H', s0: [200, 220], s1: [220, 250], s2: [180, 235] },
            { id: 'O', type: 'O', s0: [300, 175], s1: [300, 175], s2: [240, 175] },
            { id: 'H5', type: 'H', s0: [340, 130], s1: [360, 100], s2: [60, 175] },
            { id: 'H6', type: 'H', s0: [340, 220], s1: [360, 250], s2: [300, 175] }
        ],
        bonds0: [['C1','C2',2,614], ['C1','H1',1,413], ['C1','H2',1,413], ['C2','H3',1,413], ['C2','H4',1,413], ['O','H5',1,463], ['O','H6',1,463]],
        bonds2: [['C1','C2',1,348], ['C1','H1',1,413], ['C1','H2',1,413], ['C1','H5',1,413], ['C2','H3',1,413], ['C2','H4',1,413], ['C2','O',1,358], ['O','H6',1,463]]
    },
    {
        id: 16,
        equation: "\\mathrm{CH}_3\\mathrm{COCH}_3 + \\mathrm{H}_2 \\rightarrow \\mathrm{CH}_3\\mathrm{CH}(\\mathrm{OH})\\mathrm{CH}_3",
        atoms: [
            { id: 'C1', type: 'C', s0: [140, 200], s1: [140, 200], s2: [140, 200] },
            { id: 'C2', type: 'C', s0: [200, 160], s1: [200, 160], s2: [200, 160] },
            { id: 'C3', type: 'C', s0: [260, 200], s1: [260, 200], s2: [260, 200] },
            { id: 'O1', type: 'O', s0: [200, 100], s1: [200, 100], s2: [200, 100] },
            { id: 'H1', type: 'H', s0: [100, 170], s1: [100, 170], s2: [100, 170] },
            { id: 'H2', type: 'H', s0: [140, 240], s1: [140, 240], s2: [140, 240] },
            { id: 'H3', type: 'H', s0: [170, 230], s1: [170, 230], s2: [170, 230] },
            { id: 'H4', type: 'H', s0: [300, 170], s1: [300, 170], s2: [300, 170] },
            { id: 'H5', type: 'H', s0: [260, 240], s1: [260, 240], s2: [260, 240] },
            { id: 'H6', type: 'H', s0: [230, 230], s1: [230, 230], s2: [230, 230] },
            { id: 'H7', type: 'H', s0: [180, 40],  s1: [150, 60],  s2: [200, 60] },
            { id: 'H8', type: 'H', s0: [220, 40],  s1: [250, 60],  s2: [200, 200] }
        ],
        bonds0: [['C1','C2',1,348], ['C2','C3',1,348], ['C1','H1',1,413], ['C1','H2',1,413], ['C1','H3',1,413], ['C3','H4',1,413], ['C3','H5',1,413], ['C3','H6',1,413], ['C2','O1',2,743], ['H7','H8',1,436]],
        bonds2: [['C1','C2',1,348], ['C2','C3',1,348], ['C1','H1',1,413], ['C1','H2',1,413], ['C1','H3',1,413], ['C3','H4',1,413], ['C3','H5',1,413], ['C3','H6',1,413], ['C2','O1',1,358], ['O1','H7',1,463], ['C2','H8',1,413]]
    },
    {
        id: 17,
        equation: "\\mathrm{CH}_3\\mathrm{COOH} + \\mathrm{CH}_3\\mathrm{OH} \\rightarrow \\mathrm{CH}_3\\mathrm{COOCH}_3 + \\mathrm{H}_2\\mathrm{O}",
        atoms: [
            { id: 'C1', type: 'C', s0: [80, 150],  s1: [80, 150],  s2: [80, 150] },
            { id: 'C2', type: 'C', s0: [140, 150], s1: [140, 150], s2: [140, 150] },
            { id: 'O1', type: 'O', s0: [140, 90],  s1: [140, 90],  s2: [140, 90] },
            { id: 'O2', type: 'O', s0: [200, 150], s1: [200, 100], s2: [300, 100] },
            { id: 'H1', type: 'H', s0: [40, 150],  s1: [40, 150],  s2: [40, 150] },
            { id: 'H2', type: 'H', s0: [80, 110],  s1: [80, 110],  s2: [80, 110] },
            { id: 'H3', type: 'H', s0: [80, 190],  s1: [80, 190],  s2: [80, 190] },
            { id: 'C3', type: 'C', s0: [320, 230], s1: [260, 230], s2: [260, 150] },
            { id: 'O3', type: 'O', s0: [260, 230], s1: [200, 230], s2: [200, 150] },
            { id: 'H4', type: 'H', s0: [220, 230], s1: [220, 180], s2: [270, 70] },
            { id: 'H5', type: 'H', s0: [360, 230], s1: [300, 230], s2: [300, 150] },
            { id: 'H6', type: 'H', s0: [320, 190], s1: [260, 190], s2: [260, 110] },
            { id: 'H7', type: 'H', s0: [320, 270], s1: [260, 270], s2: [260, 190] },
            { id: 'H8', type: 'H', s0: [240, 150], s1: [240, 100], s2: [330, 130] }
        ],
        bonds0: [['C1','C2',1,348], ['C1','H1',1,413], ['C1','H2',1,413], ['C1','H3',1,413], ['C2','O1',2,743], ['C2','O2',1,358], ['O2','H8',1,463], ['C3','O3',1,358], ['C3','H5',1,413], ['C3','H6',1,413], ['C3','H7',1,413], ['O3','H4',1,463]],
        bonds2: [['C1','C2',1,348], ['C1','H1',1,413], ['C1','H2',1,413], ['C1','H3',1,413], ['C2','O1',2,743], ['C2','O3',1,358], ['C3','O3',1,358], ['C3','H5',1,413], ['C3','H6',1,413], ['C3','H7',1,413], ['O2','H4',1,463], ['O2','H8',1,463]]
    },
    {
        id: 18,
        equation: "2\\mathrm{CH}_3\\mathrm{SH} \\rightarrow \\mathrm{CH}_3\\mathrm{S-S}\\mathrm{CH}_3 + \\mathrm{H}_2",
        atoms: [
            { id: 'C1', type: 'C', s0: [100, 150], s1: [100, 150], s2: [120, 150] },
            { id: 'S1', type: 'S', s0: [160, 150], s1: [160, 150], s2: [180, 150] },
            { id: 'H1', type: 'H', s0: [60, 150],  s1: [60, 150],  s2: [80, 150] },
            { id: 'H2', type: 'H', s0: [100, 110], s1: [100, 110], s2: [120, 110] },
            { id: 'H3', type: 'H', s0: [100, 190], s1: [100, 190], s2: [120, 190] },
            { id: 'H4', type: 'H', s0: [200, 150], s1: [200, 100], s2: [180, 60] },
            { id: 'C2', type: 'C', s0: [300, 150], s1: [300, 150], s2: [280, 150] },
            { id: 'S2', type: 'S', s0: [240, 150], s1: [240, 150], s2: [220, 150] },
            { id: 'H5', type: 'H', s0: [340, 150], s1: [340, 150], s2: [320, 150] },
            { id: 'H6', type: 'H', s0: [300, 110], s1: [300, 110], s2: [280, 110] },
            { id: 'H7', type: 'H', s0: [300, 190], s1: [300, 190], s2: [280, 190] },
            { id: 'H8', type: 'H', s0: [200, 180], s1: [200, 230], s2: [220, 60] }
        ],
        bonds0: [['C1','S1',1,259], ['C1','H1',1,413], ['C1','H2',1,413], ['C1','H3',1,413], ['S1','H4',1,338], ['C2','S2',1,259], ['C2','H5',1,413], ['C2','H6',1,413], ['C2','H7',1,413], ['S2','H8',1,338]],
        bonds2: [['C1','S1',1,259], ['C1','H1',1,413], ['C1','H2',1,413], ['C1','H3',1,413], ['C2','S2',1,259], ['C2','H5',1,413], ['C2','H6',1,413], ['C2','H7',1,413], ['S1','S2',1,226], ['H4','H8',1,436]]
    }
];

// --------------------------------------------------------------------------
// DYNAMIC COORDINATE SPACING & THERMODYNAMIC CALCULATIONS
// --------------------------------------------------------------------------
const SCALE_FACTOR = 1.6; // Multiplier to pull atoms further apart
const OLD_CX = 200, OLD_CY = 175;   // Old center of canvas
const NEW_CX = 325, NEW_CY = 225;   // New center based on the updated 650x450 canvas

reactionData.forEach(rxn => {
    // 1. Space out all coordinates dynamically
    rxn.atoms.forEach(a => {
        ['s0', 's1', 's2'].forEach(state => {
            a[state][0] = NEW_CX + (a[state][0] - OLD_CX) * SCALE_FACTOR;
            a[state][1] = NEW_CY + (a[state][1] - OLD_CY) * SCALE_FACTOR;
        });
    });

    // 2. Calculate thermodynamic properties
    rxn.energyBroken = rxn.bonds0.reduce((sum, bond) => sum + bond[3], 0);
    rxn.energyFormed = rxn.bonds2.reduce((sum, bond) => sum + bond[3], 0);
    rxn.deltaH = rxn.energyBroken - rxn.energyFormed;
    rxn.isEndo = rxn.deltaH > 0;
});